imagen();const nuevaTareaBtn=document.querySelector("#agregar-cancha");nuevaTareaBtn&&nuevaTareaBtn.addEventListener("click",(function(){mostrarFormulario(!1)}));const editarCancha=document.querySelector("#editar-cancha");function mostrarFormulario(e=!1,r={}){const o=document.querySelector("#nueva-cancha");setTimeout(()=>{document.querySelector(".formulario").classList.add("animar")},0),o.style.display="block";document.querySelector(".cerrar-modal");o.addEventListener("click",(function(e){if(e.target.classList.contains("cerrar-modal")){const e=document.querySelector(".formulario");e.classList.add("cerrar"),setTimeout(()=>{e.classList.remove("cerrar"),o.style.display="none"},500)}e.target.classList.contains("submit-nueva-cancha")&&validarCancha()})),document.querySelector(".dashboard").appendChild(o)}function mostrarAlerta(e,r,o){const t=document.querySelector(".alerta");t&&t.remove();const a=document.createElement("DIV");a.classList.add("alerta",r),a.textContent=e,o.parentElement.insertBefore(a,o.nextElementSibling),setTimeout(()=>{a.remove()},5e3)}async function validarCancha(){const e=document.querySelector("#nombre").value.trim(),r=document.querySelector("#descripcion").value.trim(),o=document.querySelector("#telefono").value.trim(),t=document.querySelector("#precio").value.trim(),a=document.querySelector("#direccion").value.trim(),n=document.querySelector("#desde").value.trim(),c=document.querySelector("#hasta").value.trim(),i=document.querySelector("#imagen"),l=document.querySelector("#categoria").value.trim(),d=document.querySelector("#distrito").value.trim();if(""===e)return void mostrarAlerta("El nombre es obligatorio","error",document.querySelector(".formulario legend"));if(""===r)return void mostrarAlerta("La descripcion es obligatoria","error",document.querySelector(".formulario legend"));if(""===o)return void mostrarAlerta("El telefono es obligatorio","error",document.querySelector(".formulario legend"));if(""===t)return void mostrarAlerta("El precio es obligatorio","error",document.querySelector(".formulario legend"));if(""===a)return void mostrarAlerta("La direccion es obligatorio","error",document.querySelector(".formulario legend"));if(""===n)return void mostrarAlerta("El horario es obligatorio","error",document.querySelector(".formulario legend"));if(""===c)return void mostrarAlerta("El horario es obligatorio","error",document.querySelector(".formulario legend"));if(""===i)return void mostrarAlerta("La imagen es obligatorio","error",document.querySelector(".formulario legend"));datos=new FormData;const u=document.querySelector("#id_cancha").value;datos.append("id",u),datos.append("nombre",e),datos.append("descripcion",r),datos.append("telefono",o),datos.append("precio",t),datos.append("direccion",a),datos.append("horario[desde]",n),datos.append("horario[hasta]",c),datos.append("imagen",i.files[0]),datos.append("distrito_id",d),datos.append("categoria_id",l);try{const e="http://localhost:3000/api/set-cancha",r=await fetch(e,{method:"POST",body:datos}),o=await r.json();return void console.log(o)}catch(e){Swal.fire({icon:"error",title:"Error...",text:"Hubo un error al guardar !"})}}function imagen(){var e=document.getElementById("myModal"),r=document.getElementById("myImg"),o=document.getElementById("img01"),t=document.getElementById("caption");r.onclick=function(){e.style.display="block",o.src=this.src,t.innerHTML=this.alt},document.getElementsByClassName("close")[0].onclick=function(){e.style.display="none"}}editarCancha&&editarCancha.addEventListener("click",(function(){mostrarFormulario(!0)}));