const modal=document.getElementById("myModal");modal&&imagen();const nuevaTareaBtn=document.querySelector("#guardar-cancha");function mostrarAlerta(e,r,o){const t=document.querySelector(".alerta");t&&t.remove();const a=document.createElement("DIV");a.classList.add("alerta",r),a.textContent=e,o.parentElement.insertBefore(a,o.nextElementSibling),setTimeout(()=>{a.remove()},5e3)}async function validarCancha(){const e=document.querySelector("#nombre").value.trim(),r=document.querySelector("#descripcion").value.trim(),o=document.querySelector("#telefono").value.trim(),t=document.querySelector("#precio").value.trim(),a=document.querySelector("#direccion").value.trim(),n=document.querySelector("#desde").value.trim(),i=document.querySelector("#hasta").value.trim(),l=document.querySelector("#imagen"),c=document.querySelector("#categoria").value.trim(),d=document.querySelector("#distrito").value.trim();if(""===e)return void mostrarAlerta("El nombre es obligatorio","error",document.querySelector(".formulario legend"));if(""===r)return void mostrarAlerta("La descripcion es obligatoria","error",document.querySelector(".formulario legend"));if(""===o)return void mostrarAlerta("El telefono es obligatorio","error",document.querySelector(".formulario legend"));if(""===t)return void mostrarAlerta("El precio es obligatorio","error",document.querySelector(".formulario legend"));if(""===a)return void mostrarAlerta("La direccion es obligatorio","error",document.querySelector(".formulario legend"));if(""===n)return void mostrarAlerta("El horario es obligatorio","error",document.querySelector(".formulario legend"));if(""===i)return void mostrarAlerta("El horario es obligatorio","error",document.querySelector(".formulario legend"));if(""===l)return void mostrarAlerta("La imagen es obligatorio","error",document.querySelector(".formulario legend"));datos=new FormData;const u=document.querySelector("#id_cancha").value,m=document.querySelector("#id_imagen").value;datos.append("id",u),datos.append("nombre",e),datos.append("descripcion",r),datos.append("telefono",o),datos.append("precio",t),datos.append("direccion",a),datos.append("horario[desde]",n),datos.append("horario[hasta]",i),datos.append("imagen",l.files[0]),datos.append("imagen[id]",m),datos.append("distrito_id",d),datos.append("categoria_id",c);try{const e="http://localhost:3000/api/set-cancha",r=await fetch(e,{method:"POST",body:datos}),o=await r.json();console.log(o),o.resultado||o?Swal.fire({icon:"success",text:"Cancha Creada Correctamente!"}):Swal.fire({icon:"error",title:"Error",text:"Hubo un error!"})}catch(e){Swal.fire({icon:"error",title:"Error...",text:"Hubo un error al guardar !"})}}function imagen(){var e=document.getElementById("myModal"),r=document.getElementById("myImg"),o=document.getElementById("img01"),t=document.getElementById("caption");r.onclick=function(){e.style.display="block",o.src=this.src,t.innerHTML=this.alt},document.getElementsByClassName("close")[0].onclick=function(){e.style.display="none"}}nuevaTareaBtn&&nuevaTareaBtn.addEventListener("click",(function(){validarCancha()}));